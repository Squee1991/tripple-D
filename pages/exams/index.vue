<template>
  <div class="exam">
    <button @click="routeToMain">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
    <h1 class="exam__title">üéì –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º</h1>
    <p class="exam__subtitle">
      –í—ã–±–µ—Ä–∏ —É—Ä–æ–≤–µ–Ω—å –∏ –Ω–∞—á–Ω–∏ –ø—Ä–∞–∫—Ç–∏–∫—É –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π:
      <span class="exam__highlight">Lesen</span>,
      <span class="exam__highlight">H√∂ren</span>,
      <span class="exam__highlight">Schreiben</span>,
      <span class="exam__highlight">Sprechen</span>
    </p>

    <div class="exam__levels">
      <div
          v-for="level in examLevels"
          :key="level.id"
          :class="['exam-card', `exam-card--${level.id}`]"
      >
        <h2 class="exam-card__title">{{ level.icon }} {{ level.title }}</h2>
        <ul class="exam-card__list">
          <li
              v-for="item in level.modules"
              :key="item"
              class="exam-card__item"
          >
            {{ item.text }}
          </li>
        </ul>
        <NuxtLink :to="`/exams/level/${level.id}`" class="exam-card__button">
          –ü–µ—Ä–µ–π—Ç–∏ –∫ {{ level.id.toUpperCase() }}
        </NuxtLink>
      </div>
    </div>
  </div>
</template>

<script setup>
import {onMounted, ref} from 'vue'
import {userExamStore} from '~/store/examStore.js'
import {useRouter} from 'vue-router'

const router = useRouter()
const examStore = userExamStore()
const examLevels = [
  {
    id: 'a1',
    icon: 'üìò',
    title: 'A1 ‚Äî –ù–∞—á–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å',
    modules: [
      {text: 'üìñ Lesen ‚Äî –∫–æ—Ä–æ—Ç–∫–∏–µ —Ç–µ–∫—Å—Ç—ã',},
      {text: 'üéß H√∂ren ‚Äî –ø—Ä–æ—Å—Ç—ã–µ –∞—É–¥–∏–æ',},
      {text: '‚úçÔ∏è Schreiben ‚Äî –ø–∏—Å—å–º–∞ –∏ —Ñ–æ—Ä–º—ã',},
      {text: 'üó£Ô∏è Sprechen ‚Äî —Å–µ–±—è –∏ –¥–∏–∞–ª–æ–≥–∏'}
    ]
  },
  {
    id: 'a2',
    icon: 'üìó',
    title: 'A2 ‚Äî –ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å',
    modules: [
      {text: 'üìñ –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã'},
      {text: 'üéß –î–∏–∞–ª–æ–≥–∏ –∏–∑ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ—Å—Ç–∏'},
      {text: '‚úçÔ∏è –ù–∞–ø–∏—Å–∞–Ω–∏–µ e-mail –∏ –∑–∞–º–µ—Ç–æ–∫'},
      {text: 'üó£Ô∏è –û—Ç–≤–µ—Ç—ã –Ω–∞ –ª–∏—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã'},
    ]
  },
  {
    id: 'b1',
    icon: 'üìô',
    title: 'B1 ‚Äî –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å',
    modules: [
      {text: 'üìñ –ù–æ–≤–æ—Å—Ç–∏, —Å—Ç–∞—Ç—å–∏, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏'},
      {text: 'üéß –î–ª–∏–Ω–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ –∏ –º–Ω–µ–Ω–∏—è'},
      {text: '‚úçÔ∏è –§–æ—Ä–º–∞–ª—å–Ω—ã–µ –ø–∏—Å—å–º–∞'},
      {text: 'üó£Ô∏è –î–∏—Å–∫—É—Å—Å–∏–∏ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã'}
    ]
  },
  {
    id: 'b2',
    icon: 'üìï',
    title: 'B2 ‚Äî –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å',
    modules: [
      {text: 'üìñ –¢–µ–∫—Å—Ç—ã –Ω–∞ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ç–µ–º—ã',},
      {text: 'üéß –ù–æ–≤–æ—Å—Ç–∏ –∏ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è'},
      {text: '‚úçÔ∏è –≠—Å—Å–µ, –æ—Ç—á—ë—Ç—ã –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏'},
      {text: 'üó£Ô∏è –ê—Ä–≥—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–µ—á—å'}
    ]
  }
]
const routeToMain = () => {
  router.push('/')
}
onMounted(() => {
  examStore.loadTopics('/exams/exam-A1.json')
})
</script>

<style scoped>
.exam {
  padding: 2rem;
  background-color: #fdf6e3;
  font-family: 'Comic Sans MS', cursive;
  min-height: 100vh;
  text-align: center;
}

.exam__title {
  font-size: 2.4rem;
  margin-bottom: 0.5rem;
}

.exam__subtitle {
  font-size: 1.2rem;
  color: #444;
  margin-bottom: 2rem;
}

.exam__highlight {
  font-weight: bold;
  color: #5c3a00;
}

.exam__levels {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 2rem;
}

.exam-card {
  background-color: #fffbe6;
  border: 3px dashed #aaa;
  border-radius: 15px;
  width: 280px;
  padding: 1.5rem;
  box-shadow: 6px 6px 0 rgba(0, 0, 0, 0.25);
  transition: transform 0.2s;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.exam-card:hover {
  transform: scale(1.05);
}

.exam-card__title {
  font-size: 1.4rem;
  margin-bottom: 1rem;
}

.exam-card__list {
  padding-left: 1.2rem;
  margin-bottom: 1rem;
  flex-grow: 1;
  text-align: left;
}

.exam-card__item {
  font-size: 1rem;
  margin-bottom: 0.5rem;
}

.exam-card__footer {
  display: flex;
  justify-content: center;
  margin-top: auto;
}

.exam-card__button {
  background-color: #ffe58f;
  border: none;
  padding: 0.6rem 1.2rem;
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
  transition: background 0.2s;
  width: 100%;
  max-width: 200px;
}

.exam-card__button:hover {
  background-color: #fcd34d;
}

.exam-card--a1 {
  border-color: #60a5fa;
}

.exam-card--a2 {
  border-color: #34d399;
}

.exam-card--b1 {
  border-color: #f59e0b;
}

.exam-card--b2 {
  border-color: #ef4444;
}
</style>